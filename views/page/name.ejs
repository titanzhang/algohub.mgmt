<% const pageName = 'MgmtContentName'; %>
<!DOCTYPE html>
<html>
  <head>
    <%- include('../html_head', {customTitle:customTitle, site:site, pageName:pageName}) %>
  </head>

  <body>
    <!-- Page header -->
    <%- include('../header', {site:site}) %>

    <!-- Page Content -->
    <div class="container">
      <div class="row"><%- include('../module/navStep', {step:'name', steps: steps}) %></div>

      <div class="row">
        <form class="well" id="editForm" method="post">
          <div class="form-group">
            <label for="algoName">Algorithm name</label>
            <input type="text" class="form-control" id="algoName" name="algoName" placeholder="Algorithm name" <% if (locals.algoName !== undefined) { %> value="<%= algoName %>" <% } %> <%if (!isNew){%>readonly<%}%>
          </div>
          <hr/>
          <div class="form-group">
            <%- include('../module/tags', {tagList: tagList.join(','), allTags: allTags}) %>
            <input type="hidden" class="form-control" id="algoTags" name="algoTags" <% if (locals.algoTags !== undefined) { %>value="<%= algoTags %>"<% } %>>
          </div>
          <hr/>
          <div class="form-group">
            <div class="input-group col-sm-4">
              <span class="input-group-btn"><button type="button" class="btn btn-primary" ahlink="edit" ahaction="section_desc">Next</button></span>
              <%- include('../module/userNameInput', {userLoginAPI: api.userLoginAPI, userCheckLoginAPI: api.userCheckLoginAPI}) %>
              <span class="input-group-btn"><button type="button" class="btn btn-primary" ahlink="finish">Finish</button></span>
            </div>
            <% if (locals.algoContent !== undefined){ %><input type="hidden" name="algoAll" value="<%= algoContent %>" /><% } %>
          </div>
        </form>
        <script>
          ahjs.addConfig('editFormConfig', {
            baseUrl: '<%= site.mgmtpath %>',
            saveUrl: '<%= site.mgmtpath %>save',
            formId: 'editForm',
            nameId: 'algoName',
            tagsId: 'algoTags'
          });
        </script>
      </div>
      <%- include('../module/dialog') %>
      <!-- Page footer -->
      <hr/>
      <%- include('../footer',{site:site, pageName:pageName}) %>
    </div>
  </body>
</html>